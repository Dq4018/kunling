<view class="register-page data-v-891c2434"><view class="nav-bar data-v-891c2434"><view class="nav-content data-v-891c2434"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="nav-left data-v-891c2434" bindtap="__e"><uni-icons vue-id="9a676040-1" type="left" size="20" color="#333" class="data-v-891c2434" bind:__l="__l"></uni-icons></view><text class="nav-title data-v-891c2434">登记管理</text><view data-event-opts="{{[['tap',[['showImportModal',['$event']]]]]}}" class="nav-right data-v-891c2434" bindtap="__e"><uni-icons vue-id="9a676040-2" type="folder-add" size="20" color="#007aff" class="data-v-891c2434" bind:__l="__l"></uni-icons></view></view></view><view class="filter-bar data-v-891c2434"><scroll-view class="filter-scroll data-v-891c2434" scroll-x="true"><view class="filter-tabs data-v-891c2434"><block wx:for="{{filterTabs}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['switchTab',['$0'],[[['filterTabs','',index,'value']]]]]]]}}" class="{{['filter-tab','data-v-891c2434',(currentTab===tab.value)?'active':'']}}" bindtap="__e"><text class="tab-text data-v-891c2434">{{tab.label}}</text></view></block></view></scroll-view></view><scroll-view class="list-container data-v-891c2434" scroll-y="true" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]]]}}" bindscrolltolower="__e"><block wx:if="{{$root.g0===0}}"><view class="empty-state data-v-891c2434"><text class="empty-text data-v-891c2434">暂无数据</text></view></block><block wx:else><view class="list-content data-v-891c2434"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['showDetail',['$0'],[[['filteredList','',index]]]]]]]}}" class="list-item data-v-891c2434" bindtap="__e"><view class="item-content data-v-891c2434"><view class="item-header data-v-891c2434"><text class="item-title data-v-891c2434">{{item.$orig.name}}</text><view class="{{['item-status','data-v-891c2434','status-'+item.$orig.status]}}"><text class="status-text data-v-891c2434">{{item.m0}}</text></view></view><view class="item-info data-v-891c2434"><text class="item-type data-v-891c2434">{{item.m1}}</text><text class="item-time data-v-891c2434">{{item.m2}}</text></view></view><view class="item-actions data-v-891c2434"><view data-event-opts="{{[['tap',[['editItem',['$0'],[[['filteredList','',index]]]]]]]}}" class="action-btn data-v-891c2434" catchtap="__e"><uni-icons vue-id="{{'9a676040-3-'+index}}" type="compose" size="16" color="#666" class="data-v-891c2434" bind:__l="__l"></uni-icons></view><view data-event-opts="{{[['tap',[['submitItem',['$0'],[[['filteredList','',index]]]]]]]}}" class="action-btn data-v-891c2434" catchtap="__e"><uni-icons vue-id="{{'9a676040-4-'+index}}" type="redo" size="16" color="#007aff" class="data-v-891c2434" bind:__l="__l"></uni-icons></view></view></view></block></view></block></scroll-view><view data-event-opts="{{[['tap',[['showAddModal',['$event']]]]]}}" class="floating-btn data-v-891c2434" bindtap="__e"><uni-icons vue-id="9a676040-5" type="plus" size="24" color="#fff" class="data-v-891c2434" bind:__l="__l"></uni-icons></view><uni-popup vue-id="9a676040-6" type="bottom" data-ref="formModal" class="data-v-891c2434 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="form-modal data-v-891c2434"><view class="modal-header data-v-891c2434"><text class="modal-title data-v-891c2434">{{isEdit?'编辑登记':'新增登记'}}</text><view data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" class="close-btn data-v-891c2434" bindtap="__e"><uni-icons vue-id="{{('9a676040-7')+','+('9a676040-6')}}" type="close" size="20" color="#666" class="data-v-891c2434" bind:__l="__l"></uni-icons></view></view><view class="modal-content data-v-891c2434"><view class="form-item data-v-891c2434"><text class="form-label data-v-891c2434">名称</text><input class="form-input data-v-891c2434" placeholder="请输入名称" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['formData']]]]]}}" value="{{formData.name}}" bindinput="__e"/></view><view class="form-item data-v-891c2434"><text class="form-label data-v-891c2434">类型</text><picker range="{{typeOptions}}" range-key="label" data-event-opts="{{[['change',[['onTypeChange',['$event']]]]]}}" bindchange="__e" class="data-v-891c2434"><view class="picker-input data-v-891c2434"><text class="picker-text data-v-891c2434">{{$root.m3}}</text><uni-icons vue-id="{{('9a676040-8')+','+('9a676040-6')}}" type="down" size="14" color="#999" class="data-v-891c2434" bind:__l="__l"></uni-icons></view></picker></view><view class="form-item data-v-891c2434"><text class="form-label data-v-891c2434">申请人</text><input class="form-input data-v-891c2434" placeholder="请输入申请人" data-event-opts="{{[['input',[['__set_model',['$0','applicant','$event',[]],['formData']]]]]}}" value="{{formData.applicant}}" bindinput="__e"/></view><view class="form-item data-v-891c2434"><text class="form-label data-v-891c2434">文件上传</text><view data-event-opts="{{[['tap',[['chooseFile',['$event']]]]]}}" class="upload-area data-v-891c2434" bindtap="__e"><block wx:if="{{$root.g1===0}}"><view class="upload-placeholder data-v-891c2434"><uni-icons vue-id="{{('9a676040-9')+','+('9a676040-6')}}" type="cloud-upload" size="32" color="#ccc" class="data-v-891c2434" bind:__l="__l"></uni-icons><text class="upload-text data-v-891c2434">点击或拖拽上传文件</text></view></block><block wx:else><view class="file-list data-v-891c2434"><block wx:for="{{formData.files}}" wx:for-item="file" wx:for-index="index" wx:key="index"><view class="file-item data-v-891c2434"><text class="file-name data-v-891c2434">{{file.name}}</text><view data-event-opts="{{[['tap',[['removeFile',[index]]]]]}}" class="file-remove data-v-891c2434" catchtap="__e"><uni-icons vue-id="{{('9a676040-10-'+index)+','+('9a676040-6')}}" type="close" size="14" color="#999" class="data-v-891c2434" bind:__l="__l"></uni-icons></view></view></block></view></block></view></view><view class="form-item data-v-891c2434"><text class="form-label data-v-891c2434">备注</text><textarea class="form-textarea data-v-891c2434" placeholder="请输入备注信息" data-event-opts="{{[['input',[['__set_model',['$0','remark','$event',[]],['formData']]]]]}}" value="{{formData.remark}}" bindinput="__e"></textarea></view></view><view class="modal-footer data-v-891c2434"><view data-event-opts="{{[['tap',[['saveDraft',['$event']]]]]}}" class="btn secondary data-v-891c2434" bindtap="__e"><text class="btn-text data-v-891c2434">保存草稿</text></view><view data-event-opts="{{[['tap',[['submitForm',['$event']]]]]}}" class="btn primary data-v-891c2434" bindtap="__e"><text class="btn-text data-v-891c2434">提交</text></view></view></view></uni-popup><uni-popup vue-id="9a676040-11" type="center" data-ref="importModal" class="data-v-891c2434 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="import-modal data-v-891c2434"><view class="modal-header data-v-891c2434"><text class="modal-title data-v-891c2434">批量导入</text><view data-event-opts="{{[['tap',[['closeImportModal',['$event']]]]]}}" class="close-btn data-v-891c2434" bindtap="__e"><uni-icons vue-id="{{('9a676040-12')+','+('9a676040-11')}}" type="close" size="20" color="#666" class="data-v-891c2434" bind:__l="__l"></uni-icons></view></view><view class="import-content data-v-891c2434"><view class="import-tips data-v-891c2434"><text class="tips-text data-v-891c2434">支持Excel/CSV格式文件，请按模板格式填写</text><text data-event-opts="{{[['tap',[['downloadTemplate',['$event']]]]]}}" class="download-template data-v-891c2434" bindtap="__e">下载模板</text></view><view data-event-opts="{{[['tap',[['chooseImportFile',['$event']]]]]}}" class="import-area data-v-891c2434" bindtap="__e"><uni-icons vue-id="{{('9a676040-13')+','+('9a676040-11')}}" type="cloud-upload" size="48" color="#007aff" class="data-v-891c2434" bind:__l="__l"></uni-icons><text class="import-text data-v-891c2434">选择文件上传</text></view><block wx:if="{{importProgress>0}}"><view class="progress-bar data-v-891c2434"><view class="progress-fill data-v-891c2434" style="{{'width:'+(importProgress+'%')+';'}}"></view><text class="progress-text data-v-891c2434">{{importProgress+"%"}}</text></view></block></view></view></uni-popup><uni-popup vue-id="9a676040-14" type="bottom" data-ref="detailModal" class="data-v-891c2434 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="detail-modal data-v-891c2434"><view class="modal-header data-v-891c2434"><text class="modal-title data-v-891c2434">详情信息</text><view data-event-opts="{{[['tap',[['closeDetailModal',['$event']]]]]}}" class="close-btn data-v-891c2434" bindtap="__e"><uni-icons vue-id="{{('9a676040-15')+','+('9a676040-14')}}" type="close" size="20" color="#666" class="data-v-891c2434" bind:__l="__l"></uni-icons></view></view><view class="detail-content data-v-891c2434"><view class="detail-item data-v-891c2434"><text class="detail-label data-v-891c2434">名称：</text><text class="detail-value data-v-891c2434">{{currentItem.name}}</text></view><view class="detail-item data-v-891c2434"><text class="detail-label data-v-891c2434">类型：</text><text class="detail-value data-v-891c2434">{{$root.m4}}</text></view><view class="detail-item data-v-891c2434"><text class="detail-label data-v-891c2434">申请人：</text><text class="detail-value data-v-891c2434">{{currentItem.applicant}}</text></view><view class="detail-item data-v-891c2434"><text class="detail-label data-v-891c2434">状态：</text><text class="{{['detail-value','data-v-891c2434','status-'+currentItem.status]}}">{{$root.m5}}</text></view><view class="detail-item data-v-891c2434"><text class="detail-label data-v-891c2434">提交时间：</text><text class="detail-value data-v-891c2434">{{$root.m6}}</text></view><block wx:if="{{$root.g2}}"><view class="detail-item data-v-891c2434"><text class="detail-label data-v-891c2434">附件：</text><view class="attachment-list data-v-891c2434"><block wx:for="{{currentItem.files}}" wx:for-item="file" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['previewFile',['$0'],[[['currentItem.files','',index]]]]]]]}}" class="attachment-item data-v-891c2434" bindtap="__e"><uni-icons vue-id="{{('9a676040-16-'+index)+','+('9a676040-14')}}" type="paperclip" size="14" color="#007aff" class="data-v-891c2434" bind:__l="__l"></uni-icons><text class="attachment-name data-v-891c2434">{{file.name}}</text></view></block></view></view></block><block wx:if="{{currentItem.remark}}"><view class="detail-item data-v-891c2434"><text class="detail-label data-v-891c2434">备注：</text><text class="detail-value data-v-891c2434">{{currentItem.remark}}</text></view></block></view></view></uni-popup></view>