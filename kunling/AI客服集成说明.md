# AI客服集成使用说明

## 功能概述

昆灵知识产权AI客服系统已成功集成多个主流大模型API，支持：
- 阿里通义千问
- 百度文心一言
- 智谱GLM
- 月之暗面Kimi

## 配置步骤

### 1. 获取API密钥

#### 通义千问（推荐）
1. 访问 https://dashscope.aliyun.com/
2. 注册阿里云账号并完成实名认证
3. 开通DashScope服务
4. 创建API Key
5. 新用户有免费额度

#### 百度文心一言
1. 访问 https://cloud.baidu.com/
2. 注册百度云账号
3. 开通千帆大模型平台
4. 创建应用获取API Key和Secret Key
5. 新用户有免费调用次数

#### 智谱GLM
1. 访问 https://open.bigmodel.cn/
2. 注册账号并完成认证
3. 创建API Key
4. 新用户有免费token额度

#### 月之暗面Kimi
1. 访问 https://platform.moonshot.cn/
2. 注册账号
3. 创建API Key
4. 支持超长上下文

### 2. 配置API密钥

打开 `config/ai-config.js` 文件，填入对应的API密钥：

```javascript
export default {
	qwen: {
		apiKey: 'your-qwen-api-key', // 填入通义千问API Key
		// 其他配置保持不变
	},
	wenxin: {
		apiKey: 'your-baidu-api-key', // 填入百度API Key
		secretKey: 'your-baidu-secret-key', // 填入百度Secret Key
		// 其他配置保持不变
	},
	// 其他模型配置...
};
```

### 3. 使用方法

1. 在微信小程序中进入"联系我们"页面
2. 点击"在线客服"按钮
3. 进入AI客服聊天界面
4. 点击右上角设置按钮可切换AI模型
5. 开始与AI客服对话

## 功能特点

### 智能对话
- 专业的知识产权咨询回答
- 支持专利、商标、版权等问题
- 自动识别用户意图

### 多模型支持
- 可实时切换不同AI模型
- 每个模型都有独特优势
- 自动降级到备用回复

### 用户体验
- 实时打字动画效果
- 快捷回复按钮
- 消息时间显示
- 流畅的聊天界面

## 安全注意事项

1. **API密钥安全**
   - 不要将API密钥提交到版本控制系统
   - 定期更换API密钥
   - 使用环境变量存储敏感信息

2. **成本控制**
   - 监控API调用次数
   - 设置合理的token限制
   - 利用各平台的免费额度

3. **错误处理**
   - 系统已内置备用回复机制
   - API调用失败时自动降级
   - 用户体验不受影响

## 故障排除

### 常见问题

1. **API调用失败**
   - 检查API密钥是否正确
   - 确认网络连接正常
   - 查看控制台错误信息

2. **模型无响应**
   - 切换到其他可用模型
   - 检查API额度是否用完
   - 联系对应平台客服

3. **配置文件错误**
   - 确保配置文件路径正确
   - 检查JavaScript语法
   - 重启开发服务器

## 扩展功能

系统支持轻松添加新的AI模型：

1. 在 `ai-config.js` 中添加新模型配置
2. 在客服页面中添加对应的API调用方法
3. 更新模型切换逻辑
4. 添加相应的错误处理

## 技术支持

如需技术支持，请联系：
- 电话：18964317905
- 工作时间：周一至周五 9:00-18:00

---

**注意：请妥善保管API密钥，避免泄露造成不必要的费用损失。**